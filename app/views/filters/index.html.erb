<div class="container">
  <h4>
    <strong>Filtered Tags</strong>
  </h4>
<br>
  <p>
  To hide stories on your frontpage, check them below. All stories on the frontpage are showing by default. 
  </p>
  <% if !@user %>
    <p>
    Since you are not logged in, your filters will be stored in a long-lasting
    browser cookie.  To permanently store your tag filters and have them work
    across browsers, <a href="/login">login</a> to your account.
    </p>
  <% end %>

  <%= form_tag "/filters", :method => :post do %>
    <table class="table table-striped table-hover">
      <thead>
    <tr>
      <th width="7%">Hide</th>
      <th width="13%">Tag</th>
      <th width="65%">Description</th>
      <th width="5%" style="text-align: right; padding-right: 1em;">Stories</th>
    </tr>
    

    <% @tags.each do |tag| %>
      <tr>
        <td><%= check_box_tag "tags[]", tag.tag,
          @filtered_tags.include?(tag) %></td>
        <td><%= link_to tag.tag, tag_path(tag), :class => "btn tagbutton" %></td>
        <td><%= tag.description %>
          <% if tag.hotness_mod != 0 %>
            &nbsp;
            <em>(hotness mod <%= tag.hotness_mod > 0 ? "+" : ""%><%=
          tag.hotness_mod %>)</em>
        <% end %></td>
        <td style="text-align: right; padding-right: 1em;"><%=
          tag.stories_count %></td>
      </tr>
    <% end %>
    </table>
    <p>
    <%= submit_tag "Save Filters", :class => "btn btn-default"%>
    </p>
  <% end %>
</div>
